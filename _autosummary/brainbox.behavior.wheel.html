

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>brainbox.behavior.wheel &mdash; IBL Library  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="brainbox.core" href="brainbox.core.html" />
    <link rel="prev" title="brainbox.behavior.training" href="brainbox.behavior.training.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> IBL Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../01_overview.html">IBL data structure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03_one.html">ONE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../04_datajoint.html">Datajoint</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05_tutorials.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../07_public.html">IBL Public Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../08_contribution.html">Contribution Statement</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../09_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="alf.html">alf</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibllib.html">ibllib</a></li>
<li class="toctree-l2"><a class="reference internal" href="oneibl.html">oneibl</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="brainbox.html">brainbox</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="brainbox.atlas.html">brainbox.atlas</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="brainbox.behavior.html">brainbox.behavior</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="brainbox.behavior.pyschofit.html">brainbox.behavior.pyschofit</a></li>
<li class="toctree-l4"><a class="reference internal" href="brainbox.behavior.training.html">brainbox.behavior.training</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">brainbox.behavior.wheel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.core.html">brainbox.core</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.ephys_plots.html">brainbox.ephys_plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.experimental.html">brainbox.experimental</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.io.html">brainbox.io</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.lfp.html">brainbox.lfp</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.metrics.html">brainbox.metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.modeling.html">brainbox.modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.numerical.html">brainbox.numerical</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.plot.html">brainbox.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.plot_base.html">brainbox.plot_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.population.html">brainbox.population</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.processing.html">brainbox.processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.quality.html">brainbox.quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.singlecell.html">brainbox.singlecell</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.spike_features.html">brainbox.spike_features</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.task.html">brainbox.task</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.tests.html">brainbox.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.video.html">brainbox.video</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../09_api_reference.html">API Reference</a> &raquo;</li>
        
          <li><a href="brainbox.html">brainbox</a> &raquo;</li>
        
          <li><a href="brainbox.behavior.html">brainbox.behavior</a> &raquo;</li>
        
      <li>brainbox.behavior.wheel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autosummary/brainbox.behavior.wheel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-brainbox.behavior.wheel">
<span id="brainbox-behavior-wheel"></span><h1>brainbox.behavior.wheel<a class="headerlink" href="#module-brainbox.behavior.wheel" title="Permalink to this headline">Â¶</a></h1>
<p>Set of functions to handle wheel data</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.cm_to_deg" title="brainbox.behavior.wheel.cm_to_deg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cm_to_deg</span></code></a></p></td>
<td><p>Convert wheel position to degrees turned.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.cm_to_rad" title="brainbox.behavior.wheel.cm_to_rad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cm_to_rad</span></code></a></p></td>
<td><p>Convert wheel position to radians.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">direction_changes</span></code></p></td>
<td><p>Find the direction changes for the given movement intervals.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.interpolate_position" title="brainbox.behavior.wheel.interpolate_position"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interpolate_position</span></code></a></p></td>
<td><p>Return linearly interpolated wheel position.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.last_movement_onset" title="brainbox.behavior.wheel.last_movement_onset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">last_movement_onset</span></code></a></p></td>
<td><p>Find the time at which movement started, given an event timestamp that occurred during the movement.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.movements" title="brainbox.behavior.wheel.movements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">movements</span></code></a></p></td>
<td><p>Detect wheel movements.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.samples_to_cm" title="brainbox.behavior.wheel.samples_to_cm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">samples_to_cm</span></code></a></p></td>
<td><p>Convert wheel position samples to cm linear displacement.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.traces_by_trial" title="brainbox.behavior.wheel.traces_by_trial"><code class="xref py py-obj docutils literal notranslate"><span class="pre">traces_by_trial</span></code></a></p></td>
<td><p>Returns list of tuples of positions and velocity for samples between stimulus onset and feedback.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity</span></code></p></td>
<td><p>Compute wheel velocity from non-uniformly sampled wheel data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.behavior.wheel.velocity_smoothed" title="brainbox.behavior.wheel.velocity_smoothed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">velocity_smoothed</span></code></a></p></td>
<td><p>Compute wheel velocity from uniformly sampled wheel data</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="brainbox.behavior.wheel.cm_to_deg">
<code class="sig-name descname">cm_to_deg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">positions</span></em>, <em class="sig-param"><span class="n">wheel_diameter</span><span class="o">=</span><span class="default_value">6.2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#cm_to_deg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.cm_to_deg" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert wheel position to degrees turned.  This may be useful for e.g. calculating velocity
in revolutions per second
:param positions: array of wheel positions in cm
:param wheel_diameter: the diameter of the wheel in cm
:return: array of wheel positions in degrees turned</p>
<p># Example: Convert linear cm to degrees
&gt;&gt;&gt; cm_to_deg(3.142 * WHEEL_DIAMETER)
360.04667846020925</p>
<p># Example: Get positions in deg from cm for 5cm diameter wheel
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; cm_to_deg(np.array([0.0270526 , 0.04057891, 0.05410521, 0.06763151]), wheel_diameter=5)
array([0.61999992, 0.93000011, 1.24000007, 1.55000003])</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.cm_to_rad">
<code class="sig-name descname">cm_to_rad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">positions</span></em>, <em class="sig-param"><span class="n">wheel_diameter</span><span class="o">=</span><span class="default_value">6.2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#cm_to_rad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.cm_to_rad" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert wheel position to radians.  This may be useful for e.g. calculating angular velocity.
:param positions: array of wheel positions in cm
:param wheel_diameter: the diameter of the wheel in cm
:return: array of wheel angle in radians</p>
<p># Example: Convert linear cm to radians
&gt;&gt;&gt; cm_to_rad(1)
0.3225806451612903</p>
<p># Example: Get positions in rad from cm for 5cm diameter wheel
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; cm_to_rad(np.array([0.0270526 , 0.04057891, 0.05410521, 0.06763151]), wheel_diameter=5)
array([0.01082104, 0.01623156, 0.02164208, 0.0270526 ])</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.interpolate_position">
<code class="sig-name descname">interpolate_position</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">re_ts</span></em>, <em class="sig-param"><span class="n">re_pos</span></em>, <em class="sig-param"><span class="n">freq</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">'linear'</span></em>, <em class="sig-param"><span class="n">fill_gaps</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#interpolate_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.interpolate_position" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return linearly interpolated wheel position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>re_ts</strong> (<em>array_like</em>) â Array of timestamps</p></li>
<li><p><strong>re_pos</strong> (<em>array_like</em>) â Array of unwrapped wheel positions</p></li>
<li><p><strong>freq</strong> (<em>float</em>) â frequency in Hz of the interpolation</p></li>
<li><p><strong>kind</strong> (<em>{'linear'</em><em>, </em><em>'cubic'}</em>) â Type of interpolation. Defaults to linear interpolation.</p></li>
<li><p><strong>fill_gaps</strong> (<em>float</em>) â Minimum gap length to fill. For gaps over this time (seconds),
forward fill values before interpolation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>yinterp</strong> (<em>array</em>) â Interpolated position</p></li>
<li><p><strong>t</strong> (<em>array</em>) â Timestamps of interpolated positions</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.last_movement_onset">
<code class="sig-name descname">last_movement_onset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">vel</span></em>, <em class="sig-param"><span class="n">event_time</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#last_movement_onset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.last_movement_onset" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Find the time at which movement started, given an event timestamp that occurred during the
movement.  Movement start is defined as the first sample after the velocity has been zero
for at least 50ms.  Wheel inputs should be evenly sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> â numpy array of wheel timestamps in seconds</p></li>
<li><p><strong>vel</strong> â numpy array of wheel velocities</p></li>
<li><p><strong>event_time</strong> â timestamp anywhere during movement of interest, e.g. peak velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>timestamp of movement onset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.movements">
<code class="sig-name descname">movements</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">freq</span><span class="o">=</span><span class="default_value">1000</span></em>, <em class="sig-param"><span class="n">pos_thresh</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">t_thresh</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">min_gap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">pos_thresh_onset</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">min_dur</span><span class="o">=</span><span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">make_plots</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#movements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.movements" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Detect wheel movements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>array_like</em>) â An array of evenly sampled wheel timestamps in absolute seconds</p></li>
<li><p><strong>pos</strong> (<em>array_like</em>) â An array of evenly sampled wheel positions</p></li>
<li><p><strong>freq</strong> (<em>int</em>) â The sampling rate of the wheel data</p></li>
<li><p><strong>pos_thresh</strong> (<em>float</em>) â The minimum required movement during the t_thresh window to be considered part of a
movement</p></li>
<li><p><strong>t_thresh</strong> (<em>float</em>) â The time window over which to check whether the pos_thresh has been crossed</p></li>
<li><p><strong>min_gap</strong> (<em>float</em>) â The minimum time between one movementâs offset and another movementâs onset in order to be
considered separate.  Movements with a gap smaller than this are âstictched togetherâ</p></li>
<li><p><strong>pos_thresh_onset</strong> (<em>float</em>) â A lower threshold for finding precise onset times.  The first position of each movement
transition that is this much bigger than the starting position is considered the onset</p></li>
<li><p><strong>min_dur</strong> (<em>float</em>) â The minimum duration of a valid movement.  Detected movements shorter than this are ignored</p></li>
<li><p><strong>make_plots</strong> (<em>boolean</em>) â Plot trace of position and velocity, showing detected onsets and offsets</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>onsets</strong> (<em>np.ndarray</em>) â Timestamps of detected movement onsets</p></li>
<li><p><strong>offsets</strong> (<em>np.ndarray</em>) â Timestamps of detected movement offsets</p></li>
<li><p><strong>peak_amps</strong> (<em>np.ndarray</em>) â The absolute maximum amplitude of each detected movement, relative to onset position</p></li>
<li><p><strong>peak_vel_times</strong> (<em>np.ndarray</em>) â Timestamps of peak velocity for each detected movement</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.samples_to_cm">
<code class="sig-name descname">samples_to_cm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">positions</span></em>, <em class="sig-param"><span class="n">wheel_diameter</span><span class="o">=</span><span class="default_value">6.2</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">4096</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#samples_to_cm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.samples_to_cm" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Convert wheel position samples to cm linear displacement.  This may be useful for
inter-converting threshold units
:param positions: array of wheel positions in sample counts
:param wheel_diameter: the diameter of the wheel in cm
:param resolution: resolution of the rotary encoder
:return: array of wheel angle in radians</p>
<p># Example: Get resolution in linear cm
&gt;&gt;&gt; samples_to_cm(1)
0.004755340442445488</p>
<p># Example: Get positions in linear cm for 4X, 360 ppr encoder
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; samples_to_cm(np.array([2, 3, 4, 5, 6, 7, 6, 5, 4]), resolution=360*4)
array([0.0270526 , 0.04057891, 0.05410521, 0.06763151, 0.08115781,</p>
<blockquote>
<div><p>0.09468411, 0.08115781, 0.06763151, 0.05410521])</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.traces_by_trial">
<code class="sig-name descname">traces_by_trial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">t</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">end</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">separate</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#traces_by_trial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.traces_by_trial" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns list of tuples of positions and velocity for samples between stimulus onset and
feedback.
:param t: numpy array of timestamps
:param args: optional numpy arrays of the same length as timestamps, such as positions,
velocities or accelerations
:param start: start timestamp or array thereof
:param end: end timestamp or array thereof
:param separate: when True, the output is returned as tuples list of the form [(t, args[0],
args[1]), â¦], when False, the output is a list of n-by-m ndarrays where n = number of
positional args and m = len(t)
:return: list of sliced arrays where length == len(start)</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.behavior.wheel.velocity_smoothed">
<code class="sig-name descname">velocity_smoothed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pos</span></em>, <em class="sig-param"><span class="n">freq</span></em>, <em class="sig-param"><span class="n">smooth_size</span><span class="o">=</span><span class="default_value">0.03</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/behavior/wheel.html#velocity_smoothed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.behavior.wheel.velocity_smoothed" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Compute wheel velocity from uniformly sampled wheel data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> (<em>array_like</em>) â Array of wheel positions</p></li>
<li><p><strong>smooth_size</strong> (<em>float</em>) â Size of Gaussian smoothing window in seconds</p></li>
<li><p><strong>freq</strong> (<em>float</em>) â Sampling frequency of the data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>vel</strong> (<em>np.ndarray</em>) â Array of velocity values</p></li>
<li><p><strong>acc</strong> (<em>np.ndarray</em>) â Array of acceleration values</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="brainbox.core.html" class="btn btn-neutral float-right" title="brainbox.core" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="brainbox.behavior.training.html" class="btn btn-neutral float-left" title="brainbox.behavior.training" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, International Brain Laboratory

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
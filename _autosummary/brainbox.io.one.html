

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>brainbox.io.one &mdash; IBL Library  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="brainbox.io.parquet" href="brainbox.io.parquet.html" />
    <link rel="prev" title="brainbox.io.deprecated.one" href="brainbox.io.deprecated.one.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> IBL Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../01_overview.html">IBL data structure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03_one.html">ONE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../04_alf.html">Alyx Files (ALF)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05_datajoint.html">Datajoint</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../07_tutorials.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../08_public.html">IBL Public Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">Contribution Statement</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="one.html">one</a></li>
<li class="toctree-l2"><a class="reference internal" href="ibllib.html">ibllib</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="brainbox.html">brainbox</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="brainbox.atlas.html">brainbox.atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.behavior.html">brainbox.behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.core.html">brainbox.core</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.ephys_plots.html">brainbox.ephys_plots</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="brainbox.io.html">brainbox.io</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="brainbox.io.deprecated.html">brainbox.io.deprecated</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">brainbox.io.one</a></li>
<li class="toctree-l4"><a class="reference internal" href="brainbox.io.parquet.html">brainbox.io.parquet</a></li>
<li class="toctree-l4"><a class="reference internal" href="brainbox.io.spikeglx.html">brainbox.io.spikeglx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.lfp.html">brainbox.lfp</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.metrics.html">brainbox.metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.modeling.html">brainbox.modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.numerical.html">brainbox.numerical</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.plot.html">brainbox.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.plot_base.html">brainbox.plot_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.population.html">brainbox.population</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.processing.html">brainbox.processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.quality.html">brainbox.quality</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.singlecell.html">brainbox.singlecell</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.spike_features.html">brainbox.spike_features</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.task.html">brainbox.task</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.tests.html">brainbox.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainbox.video.html">brainbox.video</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../010_api_reference.html">API Reference</a> &raquo;</li>
        
          <li><a href="brainbox.html">brainbox</a> &raquo;</li>
        
          <li><a href="brainbox.io.html">brainbox.io</a> &raquo;</li>
        
      <li>brainbox.io.one</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autosummary/brainbox.io.one.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-brainbox.io.one">
<span id="brainbox-io-one"></span><h1>brainbox.io.one<a class="headerlink" href="#module-brainbox.io.one" title="Permalink to this headline">Â¶</a></h1>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one._remove_old_clusters" title="brainbox.io.one._remove_old_clusters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_remove_old_clusters</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.io.one.load_channel_locations" title="brainbox.io.one.load_channel_locations"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_channel_locations</span></code></a></p></td>
<td><p>From an eid, get brain locations from Alyx database analysis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one.load_channels_from_insertion" title="brainbox.io.one.load_channels_from_insertion"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_channels_from_insertion</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.io.one.load_ephys_session" title="brainbox.io.one.load_ephys_session"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_ephys_session</span></code></a></p></td>
<td><p>From an eid, hits the Alyx database and downloads a standard default set of dataset types From a local session Path (pathlib.Path), loads a standard default set of dataset types  to perform analysis:     âclusters.channelsâ,     âclusters.depthsâ,     âclusters.metricsâ,     âspikes.clustersâ,     âspikes.timesâ,     âprobes.descriptionâ :param eid: experiment UUID or pathlib.Path of the local session :param one: one instance :return: spikes, clusters, trials (dict of bunch, 1 bunch per probe)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one.load_lfp" title="brainbox.io.one.load_lfp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_lfp</span></code></a></p></td>
<td><p>TODO Verify works From an eid, hits the Alyx database and downloads the standard set of datasets needed for LFP :param eid: :param dataset_types: additional dataset types to add to the list :param open: if True, spikeglx readers are opened :return: spikeglx.Reader</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.io.one.load_passive_rfmap" title="brainbox.io.one.load_passive_rfmap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_passive_rfmap</span></code></a></p></td>
<td><p>For a given eid load in the passive receptive field mapping protocol data :param eid: eid or pathlib.Path of the local session :param one: :return: rf_map</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one.load_spike_sorting" title="brainbox.io.one.load_spike_sorting"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_spike_sorting</span></code></a></p></td>
<td><p>From an eid, loads spikes and clusters for all probes The following set of dataset types are loaded:     âclusters.channelsâ,     âclusters.depthsâ,     âclusters.metricsâ,     âspikes.clustersâ,     âspikes.timesâ,     âprobes.descriptionâ :param eid: experiment UUID or pathlib.Path of the local session :param one: an instance of OneAlyx :param probe: name of probe to load in, if not given all probes for session will be loaded :param dataset_types: additional spikes/clusters objects to add to the standard default list :return: spikes, clusters (dict of bunch, 1 bunch per probe)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.io.one.load_spike_sorting_with_channel" title="brainbox.io.one.load_spike_sorting_with_channel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_spike_sorting_with_channel</span></code></a></p></td>
<td><p>For a given eid, get spikes, clusters and channels information, and merges clusters and channels information before returning all three variables.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one.load_trials_df" title="brainbox.io.one.load_trials_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_trials_df</span></code></a></p></td>
<td><p>TODO Test this with new ONE Generate a pandas dataframe of per-trial timing information about a given session.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#brainbox.io.one.load_wheel_reaction_times" title="brainbox.io.one.load_wheel_reaction_times"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_wheel_reaction_times</span></code></a></p></td>
<td><p>Return the calculated reaction times for session.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#brainbox.io.one.merge_clusters_channels" title="brainbox.io.one.merge_clusters_channels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge_clusters_channels</span></code></a></p></td>
<td><p>Takes (default and any extra) values in given keys from channels and assign them to clusters.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="brainbox.io.one.load_lfp">
<code class="sig-name descname">load_lfp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dataset_types</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_lfp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_lfp" title="Permalink to this definition">Â¶</a></dt>
<dd><p>TODO Verify works
From an eid, hits the Alyx database and downloads the standard set of datasets
needed for LFP
:param eid:
:param dataset_types: additional dataset types to add to the list
:param open: if True, spikeglx readers are opened
:return: spikeglx.Reader</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_channel_locations">
<code class="sig-name descname">load_channel_locations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aligned</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_channel_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_channel_locations" title="Permalink to this definition">Â¶</a></dt>
<dd><p>From an eid, get brain locations from Alyx database
analysis.
:param eid: session eid or dictionary returned by one.alyx.rest(âsessionsâ, âreadâ, id=eid)
:return: channels</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_ephys_session">
<code class="sig-name descname">load_ephys_session</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_ephys_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_ephys_session" title="Permalink to this definition">Â¶</a></dt>
<dd><p>From an eid, hits the Alyx database and downloads a standard default set of dataset types
From a local session Path (pathlib.Path), loads a standard default set of dataset types</p>
<blockquote>
<div><dl class="simple">
<dt>to perform analysis:</dt><dd><p>âclusters.channelsâ,
âclusters.depthsâ,
âclusters.metricsâ,
âspikes.clustersâ,
âspikes.timesâ,
âprobes.descriptionâ</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eid</strong> â experiment UUID or pathlib.Path of the local session</p></li>
<li><p><strong>one</strong> â one instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>spikes, clusters, trials (dict of bunch, 1 bunch per probe)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_spike_sorting">
<code class="sig-name descname">load_spike_sorting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dataset_types</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_spike_sorting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_spike_sorting" title="Permalink to this definition">Â¶</a></dt>
<dd><p>From an eid, loads spikes and clusters for all probes
The following set of dataset types are loaded:</p>
<blockquote>
<div><p>âclusters.channelsâ,
âclusters.depthsâ,
âclusters.metricsâ,
âspikes.clustersâ,
âspikes.timesâ,
âprobes.descriptionâ</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eid</strong> â experiment UUID or pathlib.Path of the local session</p></li>
<li><p><strong>one</strong> â an instance of OneAlyx</p></li>
<li><p><strong>probe</strong> â name of probe to load in, if not given all probes for session will be loaded</p></li>
<li><p><strong>dataset_types</strong> â additional spikes/clusters objects to add to the standard default list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>spikes, clusters (dict of bunch, 1 bunch per probe)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one._remove_old_clusters">
<code class="sig-name descname">_remove_old_clusters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">session_path</span></em>, <em class="sig-param"><span class="n">probe</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#_remove_old_clusters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one._remove_old_clusters" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.merge_clusters_channels">
<code class="sig-name descname">merge_clusters_channels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dic_clus</span></em>, <em class="sig-param"><span class="n">channels</span></em>, <em class="sig-param"><span class="n">keys_to_add_extra</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#merge_clusters_channels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.merge_clusters_channels" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Takes (default and any extra) values in given keys from channels and assign them to clusters.
If channels does not contain any data, the new keys are added to clusters but left empty.
:param dic_clus: dict of bunch, 1 bunch per probe, containing cluster information
:param channels: dict of bunch, 1 bunch per probe, containing channels information
:param keys_to_add_extra: Any extra keys contained in channels (will be added to default
[âacronymâ, âatlas_idâ])
:return: clusters (dict of bunch, 1 bunch per probe), with new keys values.</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_spike_sorting_with_channel">
<code class="sig-name descname">load_spike_sorting_with_channel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">probe</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aligned</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dataset_types</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_spike_sorting_with_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_spike_sorting_with_channel" title="Permalink to this definition">Â¶</a></dt>
<dd><p>For a given eid, get spikes, clusters and channels information, and merges clusters
and channels information before returning all three variables.
:param eid:
:param one:
:param aligned: whether to get the latest user aligned channel when not resolved or use
histology track
:param dataset_types: additional spikes/clusters objects to add to the standard default list
:return: spikes, clusters, channels (dict of bunch, 1 bunch per probe)</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_passive_rfmap">
<code class="sig-name descname">load_passive_rfmap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_passive_rfmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_passive_rfmap" title="Permalink to this definition">Â¶</a></dt>
<dd><p>For a given eid load in the passive receptive field mapping protocol data
:param eid: eid or pathlib.Path of the local session
:param one:
:return: rf_map</p>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_wheel_reaction_times">
<code class="sig-name descname">load_wheel_reaction_times</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_wheel_reaction_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_wheel_reaction_times" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return the calculated reaction times for session.  Reaction times are defined as the time
between the go cue (onset tone) and the onset of the first substantial wheel movement.   A
movement is considered sufficiently large if its peak amplitude is at least 1/3rd of the
distance to threshold (~0.1 radians).</p>
<p>Negative times mean the onset of the movement occurred before the go cue.  Nans may occur if
there was no detected movement withing the period, or when the goCue_times or feedback_times
are nan.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eid</strong> (<em>str</em>) â Session UUID</p></li>
<li><p><strong>one</strong> (<em>oneibl.ONE</em>) â An instance of ONE for loading data.  If None a new one is instantiated using the defaults.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>reaction times</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_trials_df">
<code class="sig-name descname">load_trials_df</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">maxlen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">t_before</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">t_after</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">ret_wheel</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ret_abswheel</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">wheel_binsize</span><span class="o">=</span><span class="default_value">0.02</span></em>, <em class="sig-param"><span class="n">addtl_types</span><span class="o">=</span><span class="default_value">()</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_trials_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_trials_df" title="Permalink to this definition">Â¶</a></dt>
<dd><p>TODO Test this with new ONE
Generate a pandas dataframe of per-trial timing information about a given session.
Each row in the frame will correspond to a single trial, with timing values indicating timing
session-wide (i.e. time in seconds since session start). Can optionally return a resampled
wheel velocity trace of either the signed or absolute wheel velocity.</p>
<p>The resulting dataframe will have a new set of columns, trial_start and trial_end, which define
via t_before and t_after the span of time assigned to a given trial.
(useful for bb.modeling.glm)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eid</strong> (<em>str</em>) â Session UUID string to pass to ONE</p></li>
<li><p><strong>one</strong> (<em>oneibl.one.OneAlyx</em><em>, </em><em>optional</em>) â one object to use for loading. Will generate internal one if not used, by default None</p></li>
<li><p><strong>maxlen</strong> (<em>float</em><em>, </em><em>optional</em>) â Maximum trial length for inclusion in df. Trials where feedback - response is longer
than this value will not be included in the dataframe, by default None</p></li>
<li><p><strong>t_before</strong> (<em>float</em><em>, </em><em>optional</em>) â Time before stimulus onset to include for a given trial, as defined by the trial_start
column of the dataframe. If zero, trial_start will be identical to stimOn, by default 0.</p></li>
<li><p><strong>t_after</strong> (<em>float</em><em>, </em><em>optional</em>) â Time after feedback to include in the trail, as defined by the trial_end
column of the dataframe. If zero, trial_end will be identical to feedback, by default 0.</p></li>
<li><p><strong>ret_wheel</strong> (<em>bool</em><em>, </em><em>optional</em>) â Whether to return the time-resampled wheel velocity trace, by default False</p></li>
<li><p><strong>ret_abswheel</strong> (<em>bool</em><em>, </em><em>optional</em>) â Whether to return the time-resampled absolute wheel velocity trace, by default False</p></li>
<li><p><strong>wheel_binsize</strong> (<em>float</em><em>, </em><em>optional</em>) â Time bins to resample wheel velocity to, by default 0.02</p></li>
<li><p><strong>addtl_types</strong> (<em>list</em><em>, </em><em>optional</em>) â List of additional types from an ONE trials object to include in the dataframe. Must be
valid keys to the dict produced by one.load_object(eid, âtrialsâ), by default empty.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataframe with trial-wise information. Indices are the actual trial order in the original
data, preserved even if some trials do not meet the maxlen criterion. As a result will not
have a monotonic index. Has special columns trial_start and trial_end which define start
and end times via t_before and t_after</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="brainbox.io.one.load_channels_from_insertion">
<code class="sig-name descname">load_channels_from_insertion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ins</span></em>, <em class="sig-param"><span class="n">depths</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ba</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/brainbox/io/one.html#load_channels_from_insertion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#brainbox.io.one.load_channels_from_insertion" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="brainbox.io.parquet.html" class="btn btn-neutral float-right" title="brainbox.io.parquet" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="brainbox.io.deprecated.one.html" class="btn btn-neutral float-left" title="brainbox.io.deprecated.one" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, International Brain Laboratory

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
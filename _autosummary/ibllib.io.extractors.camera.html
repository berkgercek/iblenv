

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ibllib.io.extractors.camera &mdash; IBL Library  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ibllib.io.extractors.ephys_fpga" href="ibllib.io.extractors.ephys_fpga.html" />
    <link rel="prev" title="ibllib.io.extractors.bpod_trials" href="ibllib.io.extractors.bpod_trials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> IBL Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../01_overview.html">Introduction to the IBL data architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_ibl_data_intro.html">IBL data structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_alf.html">Alyx Files (ALF)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">To access the public datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html#to-access-the-private-datasets-and-or-use-ibl-visualisation-tools">To access the private datasets and/or use IBL visualisation tools</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../08_public.html">IBL Public Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03_one.html">ONE</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05_datajoint.html">Datajoint</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../07_tutorials.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_examples.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../011_ibl_viewer.html">IBL Viewer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../09_contribution.html">Contribution Statement</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../010_api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="one.html">one</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ibllib.html">ibllib</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ibllib.atlas.html">ibllib.atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.dsp.html">ibllib.dsp</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.ephys.html">ibllib.ephys</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.exceptions.html">ibllib.exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.graphic.html">ibllib.graphic</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ibllib.io.html">ibllib.io</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.certification_protocol.html">ibllib.io.certification_protocol</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="ibllib.io.extractors.html">ibllib.io.extractors</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.ffmpeg.html">ibllib.io.ffmpeg</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.flags.html">ibllib.io.flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.globus.html">ibllib.io.globus</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.misc.html">ibllib.io.misc</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.npy_header.html">ibllib.io.npy_header</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.raw_data_loaders.html">ibllib.io.raw_data_loaders</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.spikeglx.html">ibllib.io.spikeglx</a></li>
<li class="toctree-l4"><a class="reference internal" href="ibllib.io.video.html">ibllib.io.video</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.misc.html">ibllib.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.oneibl.html">ibllib.oneibl</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.pipes.html">ibllib.pipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.plots.html">ibllib.plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.qc.html">ibllib.qc</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.tests.html">ibllib.tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="ibllib.time.html">ibllib.time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="brainbox.html">brainbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="iblviewer.html">iblviewer</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../010_api_reference.html">API Reference</a> &raquo;</li>
        
          <li><a href="ibllib.html">ibllib</a> &raquo;</li>
        
          <li><a href="ibllib.io.html">ibllib.io</a> &raquo;</li>
        
          <li><a href="ibllib.io.extractors.html">ibllib.io.extractors</a> &raquo;</li>
        
      <li>ibllib.io.extractors.camera</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autosummary/ibllib.io.extractors.camera.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-ibllib.io.extractors.camera">
<span id="ibllib-io-extractors-camera"></span><h1>ibllib.io.extractors.camera<a class="headerlink" href="#module-ibllib.io.extractors.camera" title="Permalink to this headline">Â¶</a></h1>
<p>Camera extractor functions
This module handles extraction of camera timestamps for both Bpod and FPGA.</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.align_with_audio" title="ibllib.io.extractors.camera.align_with_audio"><code class="xref py py-obj docutils literal notranslate"><span class="pre">align_with_audio</span></code></a></p></td>
<td><p>Groom the raw FPGA or Bpod camera timestamps using the frame embedded audio TTLs and frame counter.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.attribute_times" title="ibllib.io.extractors.camera.attribute_times"><code class="xref py py-obj docutils literal notranslate"><span class="pre">attribute_times</span></code></a></p></td>
<td><p>Returns the values of the first array that correspond to those of the second.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.extract_all" title="ibllib.io.extractors.camera.extract_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract_all</span></code></a></p></td>
<td><p>For the IBL ephys task, reads ephys binary file and extract:</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.extract_camera_sync" title="ibllib.io.extractors.camera.extract_camera_sync"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extract_camera_sync</span></code></a></p></td>
<td><p>Extract camera timestamps from the sync matrix</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.get_video_length" title="ibllib.io.extractors.camera.get_video_length"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_video_length</span></code></a></p></td>
<td><p>Returns video length</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.groom_pin_state" title="ibllib.io.extractors.camera.groom_pin_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">groom_pin_state</span></code></a></p></td>
<td><p>Align the GPIO pin state to the FPGA audio TTLs.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.CameraTimestampsBpod" title="ibllib.io.extractors.camera.CameraTimestampsBpod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CameraTimestampsBpod</span></code></a></p></td>
<td><p>Get the camera timestamps from the Bpod</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ibllib.io.extractors.camera.CameraTimestampsFPGA" title="ibllib.io.extractors.camera.CameraTimestampsFPGA"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CameraTimestampsFPGA</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="ibllib.io.extractors.camera.extract_camera_sync">
<code class="sig-name descname">extract_camera_sync</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sync</span></em>, <em class="sig-param"><span class="n">chmap</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#extract_camera_sync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.extract_camera_sync" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Extract camera timestamps from the sync matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sync</strong> â dictionary âtimesâ, âpolaritiesâ of fronts detected on sync trace</p></li>
<li><p><strong>chmap</strong> â dictionary containing channel indices. Default to constant.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary containing camera timestamps</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="ibllib.io.extractors.camera.get_video_length">
<code class="sig-name descname">get_video_length</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">video_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#get_video_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.get_video_length" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns video length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>video_path</strong> â A path to the video</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="ibllib.io.extractors.camera.CameraTimestampsFPGA">
<em class="property">class </em><code class="sig-name descname">CameraTimestampsFPGA</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">session_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#CameraTimestampsFPGA"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.CameraTimestampsFPGA" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.io.extractors.base.html#ibllib.io.extractors.base.BaseExtractor" title="ibllib.io.extractors.base.BaseExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ibllib.io.extractors.base.BaseExtractor</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="ibllib.io.extractors.camera.CameraTimestampsBpod">
<em class="property">class </em><code class="sig-name descname">CameraTimestampsBpod</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#CameraTimestampsBpod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.CameraTimestampsBpod" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ibllib.io.extractors.base.html#ibllib.io.extractors.base.BaseBpodTrialsExtractor" title="ibllib.io.extractors.base.BaseBpodTrialsExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ibllib.io.extractors.base.BaseBpodTrialsExtractor</span></code></a></p>
<p>Get the camera timestamps from the Bpod</p>
<p>The camera events are logged only during the events not in between, so the times need
to be interpolated</p>
<dl class="py attribute">
<dt id="ibllib.io.extractors.camera.CameraTimestampsBpod.save_names">
<code class="sig-name descname">save_names</code><em class="property"> = '_ibl_leftCamera.times.npy'</em><a class="headerlink" href="#ibllib.io.extractors.camera.CameraTimestampsBpod.save_names" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="ibllib.io.extractors.camera.CameraTimestampsBpod.var_names">
<code class="sig-name descname">var_names</code><em class="property"> = 'left_camera_timestamps'</em><a class="headerlink" href="#ibllib.io.extractors.camera.CameraTimestampsBpod.var_names" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="ibllib.io.extractors.camera.align_with_audio">
<code class="sig-name descname">align_with_audio</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamps</span></em>, <em class="sig-param"><span class="n">audio</span></em>, <em class="sig-param"><span class="n">pin_state</span></em>, <em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="n">extrapolate_missing</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">display</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#align_with_audio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.align_with_audio" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Groom the raw FPGA or Bpod camera timestamps using the frame embedded audio TTLs and frame
counter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamps</strong> â An array of raw FPGA or Bpod camera timestamps</p></li>
<li><p><strong>audio</strong> â An array of FPGA or Bpod audio TTL times</p></li>
<li><p><strong>pin_state</strong> â An array of camera pin states</p></li>
<li><p><strong>count</strong> â An array of frame numbers</p></li>
<li><p><strong>extrapolate_missing</strong> â If true and the number of timestamps is fewer than the number of</p></li>
</ul>
</dd>
</dl>
<p>frame counts, the remaining timestamps are extrapolated based on the frame rate, otherwise
they are NaNs
:param display: Plot the resulting timestamps
:return: The corrected frame timestamps</p>
</dd></dl>

<dl class="py function">
<dt id="ibllib.io.extractors.camera.attribute_times">
<code class="sig-name descname">attribute_times</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span></em>, <em class="sig-param"><span class="n">events</span></em>, <em class="sig-param"><span class="n">tol</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">injective</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">take</span><span class="o">=</span><span class="default_value">'first'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#attribute_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.attribute_times" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Returns the values of the first array that correspond to those of the second.</p>
<p>Given two arrays of timestamps, the function will return the values of the first array
that most likely correspond to the values of the second.  For each of the values in the
second array, the absolute difference is taken and the index of either the first sufficiently
close value, or simply the closest one, is assigned.</p>
<p>If injective is True, once a value has been assigned, to a value it canât be assigned to
another.  In other words there is a one-to-one mapping between the two arrays.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> â An array of event times to attribute to those in <cite>events</cite></p></li>
<li><p><strong>events</strong> â An array of event times considered a subset of <cite>arr</cite></p></li>
<li><p><strong>tol</strong> â The max absolute difference between values in order to be considered a match</p></li>
<li><p><strong>injective</strong> â If true, once a value has been assigned it will not be assigned again</p></li>
<li><p><strong>take</strong> â If âfirstâ the first value within tolerance is assigned; if ânearestâ the</p></li>
</ul>
</dd>
</dl>
<p>closest value is assigned
:returns Numpy array the same length as <cite>values</cite></p>
</dd></dl>

<dl class="py function">
<dt id="ibllib.io.extractors.camera.groom_pin_state">
<code class="sig-name descname">groom_pin_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gpio</span></em>, <em class="sig-param"><span class="n">audio</span></em>, <em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">display</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">take</span><span class="o">=</span><span class="default_value">'first'</span></em>, <em class="sig-param"><span class="n">min_diff</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#groom_pin_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.groom_pin_state" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Align the GPIO pin state to the FPGA audio TTLs.  Any audio TTLs not reflected in the pin
state are removed from the dict and the times of the detected fronts are converted to FPGA
time.  At the end of this the number of GPIO fronts should equal the number of audio fronts.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>This function is ultra safe: we probably donât need assign all the ups and down fronts</p></li>
</ul>
<p>separately and could potentially even align the timestamps without removing the missed fronts
- The input gpio and audio dicts may be modified by this function
- For training sessions the frame rate is only 30Hz and the TTLs tend to be broken up by
small gaps.  Setting the min_diff to 5ms helps the timestamp assignment accuracy.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gpio</strong> â array of GPIO pin state values</p></li>
<li><p><strong>audio</strong> â dict of FPGA audio TTLs (see ibllib.io.extractors.ephys_fpga._get_sync_fronts)</p></li>
<li><p><strong>ts</strong> â camera frame times</p></li>
<li><p><strong>tolerance</strong> â two pulses need to be within this many seconds to be considered related</p></li>
<li><p><strong>take</strong> â If âfirstâ the first value within tolerance is assigned; if ânearestâ the</p></li>
</ul>
</dd>
</dl>
<p>closest value is assigned
:param display: If true, the resulting timestamps are plotted against the raw audio signal
:param min_diff: Audio TTL fronts less than min_diff seconds apart will be removed
:returns: dict of GPIO FPGA front indices, polarities and FPGA aligned times
:returns: audio times and polarities sans the TTLs not detected in the frame data
:returns: frame times in FPGA time</p>
</dd></dl>

<dl class="py function">
<dt id="ibllib.io.extractors.camera.extract_all">
<code class="sig-name descname">extract_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">session_path</span></em>, <em class="sig-param"><span class="n">session_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ibllib/io/extractors/camera.html#extract_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ibllib.io.extractors.camera.extract_all" title="Permalink to this definition">Â¶</a></dt>
<dd><dl class="simple">
<dt>For the IBL ephys task, reads ephys binary file and extract:</dt><dd><ul class="simple">
<li><p>video time stamps</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session_path</strong> â â/path/to/subject/yyyy-mm-dd/001â</p></li>
<li><p><strong>session_type</strong> â the session type to extract, i.e. âephysâ, âtrainingâ or âbiasedâ. If</p></li>
</ul>
</dd>
</dl>
<p>None the session type is inferred from the settings file.
:param save: Bool, defaults to False
:param kwargs: parameters to pass to the extractor
:return: outputs, files</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ibllib.io.extractors.ephys_fpga.html" class="btn btn-neutral float-right" title="ibllib.io.extractors.ephys_fpga" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ibllib.io.extractors.bpod_trials.html" class="btn btn-neutral float-left" title="ibllib.io.extractors.bpod_trials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, International Brain Laboratory

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>